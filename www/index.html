<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Kiwix JS for Windows</title>
    <meta name="description" content="Offline Wikipedia reader">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--
    Kiwix (offline Wikipedia reader) - HTML5/Javascript version
    Home page : http://www.kiwix.org

    Main authors of this application :
    Mossroy - mossroy@mossroy.fr
    Peter-x - https://github.com/peter-x

    Adapted for UWP for Windows 10 and Windows Mobile 10 : Geoffrey Kantaris egk10@cam.ac.uk

    Copyright 2013-2017 Mossroy, Peter-x and contributors
    License GPL v3:

    This file is part of Kiwix.

    Kiwix is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Kiwix is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Kiwix (file LICENSE-GPLv3.txt).  If not, see <http://www.gnu.org/licenses/>

    -->
    <link rel="stylesheet" href="css/app.css" />
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" media="screen" />
    <link href="css/bootstrap-theme.css" rel="stylesheet" media="screen" />
</head>
<body role="application">
    <!-- Modal info -->
    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Welcome to Kiwix JS for Windows</h2>
            <h3>Please read this important information!</h3>
            <p>This application is packaged with only a basic ZIM archive (about a Jazz musician) so that you can get a feel
            for how offline Wikipedia browsing works.</p>
            <p>If you haven't already downloaded an offline ZIM archive and stored it on your device, <strong>please see the About section</strong>
            (icon top right).</p>
            <p>For the full experience you <strong>must</strong> download a ZIM archive and store it on your device!</p>
            <p>Alternatively, you can install one of the pre-packaged versions of Wikivoyage, Wiktionary or Wikimed form the Store.</p>
            <p>
                Kiwix JS is <b>free</b> and <b>open source</b>. If you like it, please leave a positive review. Constructive feedback and help with
                improving the app are very welcome: see About section.
            </p>
            <h3>New Features in Version 0.9.0</h3>
            <ul>
                <li>Added auto-loading of ZIM archives on device storage</li>
                <li>Enabled in-page search / highlighting with Ctrl-F / Alt-F or tap on search button</li>
                <li>Enabled UWP Future Access List so that users do not need to pick their ZIM file every time</li>
                <li>Added a dark-themed User Interface - please see Config section to enable it</li>
                <li>Added an experimental Wikipedia Dark Theme</li>
                <li>A new, cleaner, minimalistic User Interface</li>
                <li>Equations are now typeset using MathJax, if the original TeX string is available, otherwise the (slow) fallback images are used</li>
                <li>User can choose whether to transform the layout using the Wikipedia mobile or desktop styles - see Config section</li>
                <li>If your device is slow, you can disable the display of images, and extract them one-by-one as needed - see Config</li>
            </ul>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
         </div>

    </div> 
    <section id="search-article" role="region" class="dark">
        <header id="top">
            <nav id="navbar" role="navigation">
                <div class="navbar-header" id="container">
                <!-- Deprecated... Brand and toggle get grouped for better mobile display 

                    <a class="navbar-brand">Kiwix JS 0.x (beta)</a>
                    <ul class="nav navbar-nav">
                        <li id="liHomeNav"><a id="btnHome" href="#">Home</a></li>
                        <li class="active" id="liConfigureNav"><a id="btnConfigure" href="#">Configure</a></li>
                        <li id="liAboutNav"><a id="btnAbout" href="#">About</a></li>
                    </ul>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling
                <div class="navbar-collapse navbar-ex1-collapse collapse" aria-expanded="false" style="height: 1px;">

                </div><!-- /.navbar-collapse --
            </nav> -->
<!-- Deprecated...
            <div class="container" id="container">
                <form id="formArticleSearch">
                    <div class="row" id="row">
                        <span class="nopadding col-md-offset-1 col-sm-offset-1 col-md-8 col-sm-8 col-xs-7">
                            <span class="input-group">
                                <input type="search" id="prefix" placeholder="Search..." class="form-control" />
                                <span class="input-group-btn">
                                    <a class="btn btn-default" id="searchArticles"><span class="glyphicon glyphicon-search"></span></a>
                                </span>
                            </span>
                        </span>
                        <span class="nopadding col-md-2 col-sm-2 col-xs-5">
                            <span class="btn-group btn-group-xs">
                                <a class="btn btn-default btn-xs" id="btnRandomArticle"><span class="glyphicon glyphicon-random"></span><small><br />Random</small></a>
                            </span>
                        </span>
                    </div>
                    <div id="searchingForArticles" class="floating" style="display: none;">
                        <img src="img/spinner.gif" alt="Please wait..." />
                    </div> -->
                    <form id="formArticleSearch">
                        <div class="" id="row">
                            <span class="input-group">
                                <span class="input-group-btn">
                                    <!-- button id="btnHome" type="button" class="btn btn-default" -->
                                    <a id="btnHome" title="Home" class="btn btn-default"><img src="./img/icons/kiwix-19.png" /></a>
                                    <!--/--button-->
                                </span>
                                <input type="search" id="prefix" placeholder="Search..."
                                       class="form-control" />
                                <span class="input-group-btn">
                                    <a class="btn btn-default" title="Article Search" id="searchArticles"><span class="glyphicon glyphicon-book"></span></a>
                                    <a class="btn btn-default" title="Alt-F: Find and highlight text in article..." id="findText"><span class="glyphicon glyphicon-search"></span></a>
                                    <a class="btn btn-default" title="Random Article" id="btnRandomArticle"><span class="glyphicon glyphicon-random"></span></a>
                                    <a class="btn btn-default" title="Settings" id="btnConfigure"><span class="glyphicon glyphicon-wrench"></span></a>
                                    <a class="btn btn-default" title="About" id="btnAbout"><span class="glyphicon glyphicon-info-sign"></span></a>
                                </span>
                            </span>
                        </div>
                        <div class="" id="row2" style="display:none;">
                            <span class="input-group">
                                <input class="form-control" id="findInArticle" style="display:inline;" type="search" placeholder="Highlight in article...">
                                <span class="input-group-addon" id="matches">Full: 0</span>
                                <span class="input-group-addon" id="partial">Partial: 0</span>
                            </span>
                        </div>
                    </form>
                </div>
            </nav>
        </header>
        <article class="view-content" id="article">
            <div id="about" style="display: none;" class="category-padding">
                <h2>
                    <img src="img/icons/kiwix-60.png" alt="Kiwix icon" />
                    Kiwix JS Windows: Offline Wikipedia Viewer <small>(Version 0.9 Beta)</small>
                </h2>
                <br />Official site : <a href="http://www.kiwix.org/" target="_blank">http://www.kiwix.org/</a>
                <br />
                <br />If your Internet access is expensive/rare/slow/unreliable/watched/censored, you still can browse amazing amounts of knowledge and culture.
                <br />The content is packages in file archives called ZIM files.
                <br />Once you have downloaded material from the Kiwix website, you will be able to read material from Wikipedia and many other sources.
                <br />You can search among the article titles, and read any of these articles offline, without needing Internet access.
                <br />All the content of Wikipedia is inside your device (including the images). It might also work with any content in the <a href="http://www.openzim.org//wiki/OpenZIM">OpenZIM format</a>, but has been only tested on the Wikipedia ones.
                <br />
                <br />Note : the original version this application was designed for <a href="http://dumpathome.evopedia.info/dumps/finished/">Evopedia archives</a> and it's still compatible with it, but this format and <a href="http://www.evopedia.info">project</a> are now discontinued.
                <h3>Usage</h3>
                <h4>Step 1 : download some content</h4>
                from <a href="http://download.kiwix.org/zim" target="_blank">http://download.kiwix.org/zim/</a>, with a regular computer.
                <strong>Currently only Wikimedia contents (ZIM files in wiki* subdirectories, for instance <a href="http://download.kiwix.org/zim/wikipedia/" target="_blank">http://download.kiwix.org/zim/wikipedia/</a>) have been tested</strong>.
                There are known bugs when reading other contents; and audio/video/dynamic contents are not supported for now.
                <br />For a quick test, you can start with the <a href="http://download.kiwix.org/zim/wikipedia/wikipedia_en_ray_charles_2015-06.zim" target="_blank">"Ray Charles" ZIM file</a> : it contains some wikipedia articles about Ray Charles.
                <br />After that, you can download materials in your language. Check the size before you download files as many of the files are large (several Gigabytes).
                <br />If the file is larger than 2 GB, it might not be supported by your device if your storage is formatted using a FAT filesystem. If so, it's possible to split the material into several 2GB files : see <a href="http://www.kiwix.org/wiki/FAQ">the Kiwix FAQ</a>
                <br />
                <h4>Step 2 : copy the content onto your device</h4>
                If you have enough space, you can put several archives.
                <h4>Step 3 : open the extension, go to the "Configure" menu and select your ZIM file</h4>
                <h4>Step 4 : enjoy Wikipedia offline!</h4>
                <h3>Privacy policy</h3>
                <h4>Short answer :</h4>
                This application works offline. We do not collect any of your personal data and don't even know what you are doing with this application.
                <br /><h4>Longer answer :</h4>
                If you nevertheless believe your Internet access can be watched and/or if you are extremely cautious, you should shut down your 3G and Wifi access before using the application.
                <br />This application only reads the archive files of your device : it does not read any other files.
                <h3>Feedback / helping / contributing</h3>
                This application is still a work in progress. There are many bugs and improvements that need to be done. In particular :
                <ul>
                    <li><a href="https://github.com/kiwix/kiwix-js/issues/114" target="_blank">Issue #114</a> : Add a way to easily download ZIM files directly to the device</li>
                    <li><a href="https://github.com/kiwix/kiwix-js/issues/13" target="_blank">Issue #13</a> : All the user interface is in English : we plan to translate it at least into French. If you feel able to translate it in your language, please contact us</li>
                    <li><a href="https://github.com/kiwix/kiwix-js/issues/172" target="_blank">Issue #172</a> and <a href="https://github.com/kiwix/kiwix-js/issues/152" target="_blank">#152</a> : Handle video and javascript content</li>
                    <li><a href="https://github.com/kiwix/kiwix-js/issues/126" target="_blank">Issue #126</a> : Load the welcome page at first startup</li>
                    <li><a href="https://github.com/kiwix/kiwix-js/issues/117" target="_blank">Issue #117</a> : Better handle upper/lowercase and accents/diacritics in title search</li>
                    <li>Performance improvements etc.</li>
                </ul>
                Suggestions and patches/pull requests are welcome : the source code is on <a href="https://github.com/kiwix/kiwix-js-windows" target="_blank">github</a>.
                The <a href="https://github.com/kiwix/kiwix-js-windows/issues" target="_blank">bugtracker</a> is on github too. We use it as our roadmap.
                    <br />Alternatively, you can send your feedback <a href="mailto:egk10@cam.ac.uk?subject=%5BKiwix%5D%20Feedback%20about%20Kiwix%20JS">by email</a>.
                <br />In all cases, please give as much detail as you can : which device you are using, which version of Kiwix, which archive, which articles etc.
                <br />
                <br />If you like the Kiwix project and use it, please consider giving donations :
                <ul>
                    <li>to the Wikimedia foundation, to help maintaining their servers and article contents. See the <a href="https://donate.wikimedia.org/" target="_blank">donation page</a></li>
                    <li>to Kiwix, to help maintaining the ZIM files and applications. There is a donation button in  the <a href="http://www.kiwix.org">home page of kiwix.org</a></li>
                </ul>
                You can also help by :
                <ul>
                    <li>Adding articles or improving the existing ones, by <a href="https://en.wikipedia.org/wiki/Wikipedia:Introduction" target="_blank">editing online wikipedia articles</a></li>
                    <li><a href="http://www.kiwix.org/wiki/Special:MyLanguage/Participate" target="_blank">Participating</a> in the Kiwix project</li>
                </ul>
                <h3>Credits</h3>
                We have to distribute some thanks to :
                <ul>
                    <li>Kelson and all the Kiwix community for welcoming peter-x, mossroy, jaifroid and sharun-s onto this project</li>
                    <li>Wikipedia teams and contributors to help spreading knowledge to everybody</li>
                    <li>All the developers of libraries and tools we use for releasing them as Free software (see Licence paragraph)</li>
                </ul>
                <h3>Licence information</h3>
                Copyright 2013-2017 Mossroy, Peter-x and contributors
                <br />Jaifroid for the adaptation to the Universal Windows Platform
                <br />
                <br />This application is licensed under the GPL v3 license :
                <br />
                <i>
                    <br />Kiwix is free software: you can redistribute it and/or modify
                    <br />it under the terms of the GNU General Public Licence as published by
                    <br />the Free Software Foundation, either version 3 of the Licence, or
                    <br />(at your option) any later version.
                    <br />
                    <br />Kiwix is distributed in the hope that it will be useful,
                    <br />but WITHOUT ANY WARRANTY; without even the implied warranty of
                    <br />MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                    <br />GNU General Public License for more details.
                    <br />
                    <br />You should have received a copy of the GNU General Public Licence
                    <br />along with Kiwix (file LICENSE-GPLv3.txt).  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>
                </i>
                <br />
                <br />Main libraries and ressources used :
                <ul>
                    <li><a href="http://jquery.com/" target="_blank">jQuery</a> 2, released under the <a href="http://jquery.org/license" target="_blank">MIT license</a></li>
                    <li><a href="http://getbootstrap.com/" target="_blank">Bootstrap</a> 3, released under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache license 2.0</a>, which includes icons from <a href="http://glyphicons.com/">Glyphicons</a></li>
                    <li><a href="http://www.requirejs.org/" target="_blank">RequireJS</a> 2, released under the <a href="https://github.com/jrburke/requirejs/blob/master/LICENSE" target="_blank">MIT license or new BSD license</a></li>
                    <li><a href="http://qunitjs.com/" target="_blank">QUnit</a> 2, released under the <a href="http://jquery.org/license" target="_blank">MIT license</a></li>
                    <li>Kiwix logo from <a href="http://www.kiwix.org/" target="_blank">kiwix.org</a>, released under the <a href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank">Creative Commons Attribution Share Alike</a></li>
                    <li>OpenZIM specifications from <a href="http://www.openzim.org//wiki/OpenZIM" target="_blank">www.openzim.org</a>, released under the <a href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank">Creative Commons Attribution Share Alike</a></li>
                    <li>Emscripten to generate a XZ decompressor in javascript : <a href="https://github.com/kripken/emscripten" target="_blank">https://github.com/kripken/emscripten</a>, released under the <a href="https://github.com/kripken/emscripten" target="_blank">MIT license</a></li>
                    <li><a href="http://tukaani.org/xz/embedded.html">XZ Embedded</a> (the XZ library converted to Javascript with Emscripten), in public domain</li>
                </ul>
                <h3>Other platforms/versions</h3>
                Other Kiwix clients exist on various platforms. See the official site : <a href="http://www.kiwix.org/" target="_blank">http://www.kiwix.org/</a>
                <p>&nbsp;</p>
                <p>&nbsp;</p>
                <p>&nbsp;</p>
            </div>
            <div id="configuration" style="display: none;" class="category-padding">
                <div id="returntoArticle_top" style="text-align: center;"></div>
                <h2>Configuration</h2>
                This application needs a ZIM archive to work. If you have not downloaded one yet, please see the <a href="#" onclick="$('#btnAbout').click();">About</a> section.<br /><br />
                <div id="openLocalFiles" style="display: none;">
                    If you have downloaded one single ZIM archive (<strong>not</strong> split into .zimaa, .zimab, etc.), please select it with the following button:<br /> <br />
                    <input type="button" class="btn btn-default" value="Select a specific ZIM file" id="archiveFile" accept=".zim" />&nbsp;&nbsp;<br /><br />
                    <span style="clear:left"><strong>Only Wikimedia content (wiki*.zim* files) have been tested</strong> well with this app.
                    There are known bugs with other content, and audio/video/dynamic content is not supported for now.</span><br /><br />
                    If your ZIM archive is split into multiple files (.zimaa, .zimab, etc.) or if you have more than one archive in a folder and would like to be able to switch easily between them, please choose the <strong>folder</strong> containing your ZIM archive(s) with the following button:<br /><br />
                    <input type="button" class="btn btn-default" value="Select folder with ZIM files" id="archiveFiles" multiple accept=".zim,.dat,.idx,.txt,.zimaa,.zimab,.zimac,.zimad,.zimae,.zimaf,.zimag,.zimah,.zimai,.zimaj,.zimak,.zimal,.zimam,.ziman,.zimao,.zimap,.zimaq,.zimar,.zimas,.zimat,.zimau,.zimav,.zimaw,.zimax,.zimay,.zimaz, .zimba, .zimbb, .zimbc, .zimbd, .zimbe, .zimbf, .zimbg, .zimbh, .zimbi, .zimbj, .zimbk, .zimbl, .zimbm, .zimbn, .zimbo, .zimbp, .zimbq, .zimbr, .zimbs, .zimbt, .zimbu, .zimbv, .zimbw, .zimbx, .zimby, .zimbz" />&nbsp;&nbsp;<br /><br />
                </div>
                <div id="scanningForArchives" style="display: none;">
                    <br /> Scanning for archives... Please wait <img src="img/spinner.gif" alt="Please wait..." />
                </div>
                <div id="chooseArchiveFromLocalStorage" style="display: none;">
                    <span style="clear:left">If your ZIM archive is listed below, please select it, or if you wish to search for different archives, tap the Rescan button:</span><br /><br />
                    <select id="archiveList" class="form-control"></select>
                    <br /><input type="button" class="btn btn-default" value="Rescan storage" id="btnRescanDeviceStorage" />&nbsp;&nbsp;  
                    Click  to rescan app storage or to select a file or folder manually
                </div><br />
                <div id="noZIMFound" style="display: none;">
                    <br /><p style="color: red;">There were no ZIM file(s) found in the selected location! Please choose a different folder.</p>
                </div>
                <h2>Display settings</h2>
                <table>
                    <tr>
                        <td style="vertical-align:top; min-width : 16em;">
                            <div id="cssSettingsDiv" class="settings">
                                <p>Please select the display style:</p>
                                <p style="text-indent: -22px; margin-left: 20px;">
                                    <input name="cssInjectionMode" id="cssModeAutoRadio" type="radio" value="auto">
                                    <b>&nbsp;Select style automatically</b> (<i>recommended</i>: matches the ZIM style)
                                </p>
                                <p style="text-indent: -22px; margin-left: 20px;">
                                    <input name="cssInjectionMode" id="cssModeDesktopRadio" type="radio" value="desktop">
                                    <b>&nbsp;Use Wikimedia desktop display style</b> (and transform if necessary)
                                </p>                               
                                <p style="text-indent: -22px; margin-left: 20px;">
                                    <input type="radio" name="cssInjectionMode" value="mobile" id="cssModeMobileRadio">
                                    <b>&nbsp;Use Wikimedia mobile display style</b> (and transform if necessary)
                                </p>
                            </div>
                            <div id="displaySettingsDiv" class="settings">
                                <p>Please select the display option:</p>
                                <p style="text-indent: -22px; margin-left: 20px;">
                                    <input type="checkbox" name="cssCacheMode" id="cssCacheModeCheck">
                                    <b>&nbsp;Use locally cached display styles</b> (<i>recommended</i> for Wikipedia ZIM)
                                </p>
                                <p style="text-indent: -22px; margin-left: 20px;">
                                    <input type="checkbox" name="imageDisplayMode" id="imageDisplayModeCheck">
                                    <b>&nbsp;Display images if any</b> (if you hide them, click on <span style="background-color:lightblue; color:black;">blue area</span> to display one-by-one)
                                </p>
                            </div>
                            <div id="displayThemeDiv" class="settings" style="clear: left;">
                                <p>Here you may select a dark theme for night reading:</p>
                                <p style="text-indent: -22px; margin-left: 20px;">
                                    <input type="checkbox" name="cssUIDarkTheme" id="cssUIDarkThemeCheck">
                                    <b>&nbsp;Use a dark theme for the user interface</b>
                                </p>
                                <p style="text-indent: -22px; margin-left: 20px;">
                                    <input type="checkbox" name="cssWikiDarkTheme" id="cssWikiDarkThemeCheck">
                                    <b>&nbsp;Use a dark theme for Wikimedia articles</b> (<i>experimental</i> and may only work for Wikipedia ZIM files)
                                </p>
                            </div>
                        </td>
                    </tr>
                </table>
                <div id="returntoArticle_bottom" style="text-align: center;"></div>
                <h2>Expert settings</h2>
                <div id="contentInjectionModeDiv">
                    Do not touch unless you know what you're doing. <br />
                    Content injection mode : <br />
                    <input type="radio" name="contentInjectionMode" value="jquery" id="jQueryModeRadio" checked><label for="jQueryModeRadio">&nbsp; JQuery</label> (slow and memory hungry, but safer)
                    <br>
                    <input type="radio" name="contentInjectionMode" value="serviceworker" id="serviceworkerModeRadio"><label for="serviceworkerModeRadio">&nbsp; ServiceWorker</label> (faster but unstable, and not supported by all platforms. In particular, Firefox extensions do not allow ServiceWorkers for now)
                </div>
                <div id="serviceWorkerStatus"></div>
                <div id="messageChannelStatus"></div>
                <br />
            </div>
            <div id="welcomeText" class="container category-padding">
                You can search the content of your ZIM archive by typing in the above search field.
                <br />It will suggest articles starting with the letters you type.
            </div>
            <!-- List of articles matching the typed prefix -->
            <div id="articleListWithHeader" class="container">
                <span id="articleListHeaderMessage"></span>
                <div id="articleList" class="list-group">
                </div>
            </div>
            <div id="readingArticle" style="display: none;" class="container">
                <p>Reading article <span id="articleName"></span> from archive... Please wait <img src="img/spinner.gif" alt="Please wait..." /></p>
                <div id="progressMessage"><p></p></div>
            </div>
            <iframe id="articleContent" src="A/dummyArticle.html" class="articleIFrame">&nbsp;</iframe>
        </article>
        <footer id="footer">
            <div id="navigationButtons" class="btn-toolbar">
                <!-- We need to restrict the size of this navbar,
                to avoid the top button to be in the scrollbar area :
                on a device, it can trigger a "page down" of the scrollbar -->
                <!-- div class="restrictedSize" -->
                        <a class="btn btn-primary btn-sm pull-left" id="btnHomeBottom" title="Home"><span class="glyphicon glyphicon-home"></span></a>
                        <a class="btn btn-sm" id="btnBack" title="Back"><span class="glyphicon glyphicon-circle-arrow-left"></span></a>&nbsp;&nbsp;
                        <span id="appStatus"></span>
                        <a class="btn btn-sm" id="btnForward" title="Forward"><span class="glyphicon glyphicon-circle-arrow-right"></span></a>
                        <a class="btn btn-primary btn-sm pull-right" id="btnTop" title="Top" href="#top" style="margin-right: 1em;"><span class="glyphicon glyphicon-arrow-up"></span></a>
                <!-- /div -->
            </div>
        </footer>
    </section>
    <script type="text/javascript" src="js/lib/xzdec.js"></script>
    <!-- Using require.js, a module system for javascript, include the
         js files. This loads "main.js", which in turn can load other
         files, all handled by require.js:
         http://requirejs.org/docs/api.html#jsfiles -->
    <script type="text/javascript"
            data-main="js/init.js"
            src="js/lib/require.js"></script>
</body>
</html>
